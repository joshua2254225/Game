<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Geometry Dash | ArcadeOwl</title>

<style>
/* ===== RESET ===== */
*{box-sizing:border-box;margin:0;padding:0}

/* ===== BODY ===== */
body{
  background:#0f172a;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  font-family:system-ui,Arial;
  overflow:hidden;
}

/* ===== GAME AREA ===== */
#game{
  width:800px;
  height:400px;
  background:linear-gradient(#020617,#020617);
  border:4px solid #2563eb;
  position:relative;
  overflow:hidden;
}

/* ===== PLAYER ===== */
#player{
  width:30px;
  height:30px;
  background:#22c55e;
  position:absolute;
  bottom:40px;
  left:120px;
}

/* ===== GROUND ===== */
#ground{
  position:absolute;
  bottom:0;
  width:100%;
  height:40px;
  background:#1e293b;
}

/* ===== OBSTACLE ===== */
.obstacle{
  position:absolute;
  bottom:40px;
  width:30px;
  height:50px;
  background:#ef4444;
}

/* ===== UI ===== */
#ui{
  position:absolute;
  top:10px;
  left:10px;
  color:white;
  font-size:14px;
}

/* ===== GAME OVER ===== */
#gameover{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.75);
  display:none;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  color:white;
}

#gameover button{
  margin-top:10px;
  padding:8px 16px;
  border:none;
  background:#2563eb;
  color:white;
  font-weight:bold;
  border-radius:6px;
  cursor:pointer;
}
</style>
</head>

<body>

<div id="game">
  <div id="ui">Score: <span id="score">0</span></div>

  <div id="player"></div>
  <div id="ground"></div>

  <div id="gameover">
    <h2>Game Over</h2>
    <button onclick="restart()">Restart</button>
  </div>
</div>

<script>
// ===== ELEMENTS =====
const game = document.getElementById("game");
const player = document.getElementById("player");
const scoreEl = document.getElementById("score");
const gameover = document.getElementById("gameover");

// ===== PLAYER PHYSICS =====
let y = 0;
let velocity = 0;
const gravity = 0.9;
const jumpPower = 15;
let onGround = true;

// ===== GAME STATE =====
let obstacles = [];
let score = 0;
let speed = 6;
let running = true;

// ===== INPUT =====
document.addEventListener("keydown", e=>{
  if(e.code === "Space") jump();
});
document.addEventListener("touchstart", jump);

function jump(){
  if(onGround){
    velocity = jumpPower;
    onGround = false;
  }
}

// ===== SPAWN OBSTACLES =====
function spawnObstacle(){
  const obs = document.createElement("div");
  obs.className = "obstacle";
  obs.style.left = "800px";
  game.appendChild(obs);
  obstacles.push(obs);
}
setInterval(spawnObstacle, 1400);

// ===== GAME LOOP =====
function loop(){
  if(!running) return;

  // Gravity
  velocity -= gravity;
  y += velocity;

  if(y <= 0){
    y = 0;
    velocity = 0;
    onGround = true;
  }
  player.style.bottom = (40 + y) + "px";

  // Obstacles move
  obstacles.forEach((obs,i)=>{
    let x = obs.offsetLeft - speed;
    obs.style.left = x + "px";

    // Collision
    if(
      x < 150 && x + 30 > 120 &&
      y < 40
    ){
      endGame();
    }

    // Remove old
    if(x < -40){
      obs.remove();
      obstacles.splice(i,1);
    }
  });

  // Score
  score++;
  scoreEl.textContent = score;

  requestAnimationFrame(loop);
}

// ===== END GAME =====
function endGame(){
  running = false;
  gameover.style.display = "flex";
}

// ===== RESTART =====
function restart(){
  obstacles.forEach(o=>o.remove());
  obstacles = [];
  y = 0;
  velocity = 0;
  score = 0;
  scoreEl.textContent = 0;
  gameover.style.display = "none";
  running = true;
  loop();
}

// START
loop();
</script>

</body>
  </html>
