<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ArcadeOwl Geometry Dash</title>
<style>
body {
  margin:0;
  font-family:sans-serif;
  background:linear-gradient(#b3ecff,#7fcff0);
  display:flex;
  flex-direction:column;
  align-items:center;
}
.topbar {
  width:100%;
  max-width:980px;
  background:#0b74de;
  color:#fff;
  padding:12px;
  text-align:center;
  font-weight:bold;
  position:relative;
  border-radius:10px;
  margin-top:12px;
}
.topbar a {
  position:absolute;
  left:12px;
  color:white;
  text-decoration:none;
  font-weight:bold;
}
canvas {
  background:#7fd6ff;
  margin-top:16px;
  border-radius:10px;
  display:block;
}
.stats {
  display:flex;
  gap:12px;
  margin-top:12px;
  font-weight:bold;
}
button {
  padding:6px 12px;
  font-weight:bold;
  margin-left:4px;
  border-radius:6px;
  border:none;
  background:#0b74de;
  color:white;
  cursor:pointer;
}
</style>
</head>
<body>
<div class="topbar">
  <a href="index.html">‚Üê Home</a>
  ArcadeOwl Geometry Dash
</div>

<canvas id="gameCanvas" width="860" height="400"></canvas>
<div class="stats">
  Score: <span id="score">0</span> |
  Best: <span id="best">0</span>
  <button id="restartBtn">Restart</button>
</div>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

let player = {x:80, y:0, w:36, h:36, vy:0};
let gravity = 0.6;
let jumpPower = -12;
let obstacles = [];
let gameSpeed = 5;
let score = 0;
let best = localStorage.getItem("gdBest") || 0;
document.getElementById("best").textContent = best;
let isJumping = false;
let isAlive = true;

player.y = canvas.height - player.h - 50;

function spawnObstacle(){
  let height = 40 + Math.random()*40;
  obstacles.push({x:canvas.width, y:canvas.height - height - 50, w:20, h:height});
}

function resetGame(){
  player.y = canvas.height - player.h - 50;
  player.vy = 0;
  obstacles = [];
  score = 0;
  isAlive = true;
}

document.getElementById("restartBtn").onclick = resetGame;

function jump(){
  if(!isJumping && isAlive){
    player.vy = jumpPower;
    isJumping = true;
  }
}

document.addEventListener("keydown", e => { if(e.code=="Space") jump(); });
canvas.addEventListener("mousedown", jump);
canvas.addEventListener("touchstart", jump);

function loop(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Player physics
  player.vy += gravity;
  player.y += player.vy;

  if(player.y + player.h >= canvas.height - 50){
    player.y = canvas.height - player.h -50;
    player.vy = 0;
    isJumping = false;
  }

  ctx.fillStyle = "#ffcc00";
  ctx.fillRect(player.x, player.y, player.w, player.h);

  // Obstacles
  if(Math.random() < 0.02) spawnObstacle();
  ctx.fillStyle = "#ff4d4d";
  for(let i=obstacles.length-1;i>=0;i--){
    obstacles[i].x -= gameSpeed;
    ctx.fillRect(obstacles[i].x, obstacles[i].y, obstacles[i].w, obstacles[i].h);
    // Collision
    if(player.x < obstacles[i].x + obstacles[i].w &&
       player.x + player.w > obstacles[i].x &&
       player.y < obstacles[i].y + obstacles[i].h &&
       player.y + player.h > obstacles[i].y){
      isAlive = false;
    }
    if(obstacles[i].x + obstacles[i].w <0) obstacles.splice(i,1);
  }

  if(isAlive) score += 0.1;
  ctx.fillStyle = "#000";
  document.getElementById("score").textContent = Math.floor(score);

  if(!isAlive){
    if(score>best){
      best = Math.floor(score);
      localStorage.setItem("gdBest", best);
      document.getElementById("best").textContent = best;
    }
    ctx.fillStyle="#000";
    ctx.font="40px sans-serif";
    ctx.fillText("Game Over!", canvas.width/2 - 100, canvas.height/2);
  }

  requestAnimationFrame(loop);
}

loop();
</script>
</body>
</html>
