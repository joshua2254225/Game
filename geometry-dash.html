<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dash Runner</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  body {
    margin: 0;
    background: #0f172a;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    color: white;
    font-family: Arial, sans-serif;
  }

  canvas {
    background: linear-gradient(#020617, #020617);
    border: 3px solid #2563eb;
  }

  #ui {
    position: absolute;
    top: 10px;
    left: 10px;
    font-size: 18px;
  }
</style>
</head>

<body>

<div id="ui">Score: <span id="score">0</span></div>
<canvas id="game" width="600" height="300"></canvas>

<script>
/* =====================
   BASIC SETUP
===================== */
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const scoreEl = document.getElementById("score");

const GROUND_Y = 260;

/* =====================
   GAME STATE
===================== */
let running = true;
let score = 0;

/* =====================
   PLAYER
===================== */
let player;

/* =====================
   OBSTACLES
===================== */
let obstacles;
let obstacleTimer;

/* =====================
   RESET GAME
===================== */
function resetGame() {
  player = {
    x: 80,
    y: GROUND_Y - 30,
    size: 30,
    vy: 0,
    gravity: 1.2,
    jump: -18,
    grounded: true
  };

  obstacles = [];
  obstacleTimer = 0;
  score = 0;
  running = true;
}

/* =====================
   INPUT
===================== */
function jump() {
  if (player.grounded && running) {
    player.vy = player.jump;
    player.grounded = false;
  }
}

document.addEventListener("keydown", e => {
  if (e.code === "Space") jump();
});

canvas.addEventListener("touchstart", jump);

/* =====================
   GAME LOOP
===================== */
function loop() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // GROUND
  ctx.fillStyle = "#1e293b";
  ctx.fillRect(0, GROUND_Y, canvas.width, 4);

  if (running) {
    /* --- PHYSICS --- */
    player.vy += player.gravity;
    player.y += player.vy;

    if (player.y >= GROUND_Y - player.size) {
      player.y = GROUND_Y - player.size;
      player.vy = 0;
      player.grounded = true;
    }

    /* --- SPAWN --- */
    obstacleTimer++;
    if (obstacleTimer > 90) {
      obstacles.push({
        x: canvas.width,
        y: GROUND_Y - 20,
        w: 20,
        h: 20
      });
      obstacleTimer = 0;
    }

    score++;
    scoreEl.textContent = score;
  }

  /* --- DRAW PLAYER --- */
  ctx.fillStyle = "#22c55e";
  ctx.fillRect(player.x, player.y, player.size, player.size);

  /* --- OBSTACLES --- */
  ctx.fillStyle = "#ef4444";
  for (let o of obstacles) {
    if (running) o.x -= 6;
    ctx.fillRect(o.x, o.y, o.w, o.h);

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const scoreEl = document.getElementById("score");

const GROUND_Y = 260;
let running = true;
let score = 0;

let player;
let spikes;
let spawnTimer;

/* ================= RESET ================= */
function resetGame() {
  player = {
    x: 80,
    y: GROUND_Y - 30,
    size: 30,
    vy: 0,
    gravity: 1.2,
    jump: -18,
    grounded: true
  };

  spikes = [];
  spawnTimer = 0;
  score = 0;
  running = true;
}

/* ================= INPUT ================= */
function jump() {
  if (player.grounded && running) {
    player.vy = player.jump;
    player.grounded = false;
  }
}

document.addEventListener("keydown", e => {
  if (e.code === "Space") jump();
});
canvas.addEventListener("touchstart", jump);

/* ================= LOOP ================= */
function loop() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Ground
  ctx.fillStyle = "#1e293b";
  ctx.fillRect(0, GROUND_Y, canvas.width, 4);

  if (running) {
    // Physics
    player.vy += player.gravity;
    player.y += player.vy;

    if (player.y >= GROUND_Y - player.size) {
      player.y = GROUND_Y - player.size;
      player.vy = 0;
      player.grounded = true;
    }

    // Spawn spikes
    spawnTimer++;
    if (spawnTimer > 90) {
      spikes.push({
        x: canvas.width,
        y: GROUND_Y,
        size: 26
      });
      spawnTimer = 0;
    }

    score++;
    scoreEl.textContent = score;
  }

  // Player
  ctx.fillStyle = "#22c55e";
  ctx.fillRect(player.x, player.y, player.size, player.size);

  // Spikes
  ctx.fillStyle = "#ef4444";
  for (let s of spikes) {
    if (running) s.x -= 6;

    // Draw triangle
    ctx.beginPath();
    ctx.moveTo(s.x, s.y);
    ctx.lineTo(s.x + s.size / 2, s.y - s.size);
    ctx.lineTo(s.x + s.size, s.y);
    ctx.closePath();
    ctx.fill();

    // Collision (simple & safe)
    if (
      running &&
      player.x < s.x + s.size &&
      player.x + player.size > s.x &&
      player.y + player.size > s.y - s.size
    ) {
      running = false;
    }
  }

  // GAME OVER
  if (!running) {
    ctx.fillStyle = "rgba(0,0,0,0.6)";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    ctx.fillStyle = "white";
    ctx.font = "32px Arial";
    ctx.fillText("GAME OVER", 170, 130);
    ctx.font = "18px Arial";
    ctx.fillText("Click to Restart", 195, 165);
  }

  requestAnimationFrame(loop);
}

canvas.addEventListener("click", () => {
  if (!running) resetGame();
});

resetGame();
loop();
</script>
</body>
</html>
