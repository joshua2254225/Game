<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rocket Jumper - ArcadeOwl</title>
<style>
:root{
  --bg-color:#0d0d0d;
  --rocket-color:#0ff;
  --platform-color:#ff0066;
  --text-color:#fff;
  --btn-bg:#0b74de;
  --btn-color:#fff;
}

body{margin:0;font-family:sans-serif;background:var(--bg-color);color:var(--text-color);overflow:hidden;}
#gameCanvas{background:#111;display:block;margin:0 auto;border:2px solid #222;border-radius:8px;}
.topbar{
  height:50px;background:#0b74de;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:bold;position:relative;
}
.topbar button{position:absolute;right:10px;padding:6px 12px;background:#fff;color:#0b74de;border:none;border-radius:5px;cursor:pointer;}
.controls{display:flex;justify-content:center;margin:10px;gap:10px;}
.controls button{padding:8px 16px;background:var(--btn-bg);color:var(--btn-color);border:none;border-radius:5px;font-weight:bold;cursor:pointer;}
.touch-controls{display:none;position:absolute;bottom:20px;width:100%;display:flex;justify-content:space-around;}
.touch-btn{width:60px;height:60px;background:#0b74de;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:24px;color:#fff;user-select:none;}
.score-display{text-align:center;font-size:18px;margin:5px;}
</style>
</head>
<body>

<div class="topbar">Rocket Jumper <button id="fullscreenBtn">Fullscreen</button></div>
<div class="score-display">Score: <span id="score">0</span> | Highscore: <span id="highScore">0</span></div>
<canvas id="gameCanvas" width="400" height="600"></canvas>

<div class="controls">
  <button id="startBtn">Start</button>
  <button id="pauseBtn" disabled>Pause</button>
</div>

<div class="touch-controls">
  <div class="touch-btn" id="leftBtn">◀</div>
  <div class="touch-btn" id="jumpBtn">▲</div>
  <div class="touch-btn" id="rightBtn">▶</div>
</div>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const startBtn = document.getElementById('startBtn');
const pauseBtn = document.getElementById('pauseBtn');
const fullscreenBtn = document.getElementById('fullscreenBtn');
const scoreEl = document.getElementById('score');
const highScoreEl = document.getElementById('highScore');
const leftBtn = document.getElementById('leftBtn');
const rightBtn = document.getElementById('rightBtn');
const jumpBtn = document.getElementById('jumpBtn');
const touchControls = document.querySelector('.touch-controls');

let score = 0;
let highScore = localStorage.getItem('rocketHighScore')||0;
highScoreEl.textContent = highScore;

let rocket = {x:200,y:500,width:30,height:50,dx:0,dy:0};
let gravity = 0.5;
let jumpPower = -10;
let left=false,right=false,jumping=false;
let platforms = [];
let gameRunning=false;
let gamePaused=false;
let gameLoop;

// generate initial platforms
function generatePlatforms(){
  platforms=[];
  for(let i=0;i<6;i++){
    let width=Math.random()*80+60;
    let x=Math.random()*(canvas.width-width);
    let y=canvas.height- i*100;
    platforms.push({x,y,width,height:15});
  }
}

// draw rocket
function drawRocket(){
  ctx.fillStyle='cyan';
  ctx.beginPath();
  ctx.moveTo(rocket.x,rocket.y);
  ctx.lineTo(rocket.x+rocket.width/2,rocket.y-rocket.height);
  ctx.lineTo(rocket.x+rocket.width,rocket.y);
  ctx.closePath();
  ctx.fill();
}

// draw platforms
function drawPlatforms(){
  ctx.fillStyle='magenta';
  platforms.forEach(p=>{
    ctx.fillRect(p.x,p.y,p.width,p.height);
  });
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  
  // move rocket
  if(left) rocket.dx=-5;
  else if(right) rocket.dx=5;
  else rocket.dx=0;
  
  rocket.dy+=gravity;
  rocket.x+=rocket.dx;
  rocket.y+=rocket.dy;
  
  // collision with platforms
  platforms.forEach(p=>{
    if(rocket.dy>0 && rocket.x+rocket.width>p.x && rocket.x< p.x+p.width && rocket.y>=p.y-rocket.height && rocket.y<=p.y){
      rocket.dy=jumpPower;
      score++;
      scoreEl.textContent=score;
      if(score>highScore){
        highScore=score;
        highScoreEl.textContent=highScore;
        localStorage.setItem('rocketHighScore',highScore);
      }
    }
  });
  
  // if rocket falls below canvas
  if(rocket.y>canvas.height){
    gameOver();
    return;
  }
  
  drawPlatforms();
  drawRocket();
}

function gameOver(){
  gameRunning=false;
  clearInterval(gameLoop);
  ctx.fillStyle='rgba(0,0,0,0.7)';
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle='white';
  ctx.font='bold 30px Arial';
  ctx.textAlign='center';
  ctx.fillText('Game Over!',canvas.width/2,canvas.height/2-20);
  ctx.font='20px Arial';
  ctx.fillText('Score: '+score,canvas.width/2,canvas.height/2+20);
  startBtn.textContent='Restart';
  startBtn.disabled=false;
  pauseBtn.disabled=true;
}

function startGame(){
  rocket={x:200,y:500,width:30,height:50,dx:0,dy:0};
  score=0;
  scoreEl.textContent=score;
  gameRunning=true;
  gamePaused=false;
  generatePlatforms();
  startBtn.disabled=true;
  pauseBtn.disabled=false;
  pauseBtn.textContent='Pause';
  clearInterval(gameLoop);
  gameLoop=setInterval(draw,30);
}

function togglePause(){
  gamePaused=!gamePaused;
  pauseBtn.textContent=gamePaused?'Resume':'Pause';
  if(gamePaused) clearInterval(gameLoop);
  else gameLoop=setInterval(draw,30);
}

document.addEventListener('keydown',e=>{
  if(!gameRunning) return;
  if(e.key==='ArrowLeft') left=true;
  if(e.key==='ArrowRight') right=true;
  if(e.key==='ArrowUp') rocket.dy=jumpPower;
});
document.addEventListener('keyup',e=>{
  if(e.key==='ArrowLeft') left=false;
  if(e.key==='ArrowRight') right=false;
});

leftBtn.addEventListener('touchstart',()=>left=true);
leftBtn.addEventListener('touchend',()=>left=false);
rightBtn.addEventListener('touchstart',()=>right=true);
rightBtn.addEventListener('touchend',()=>right=false);
jumpBtn.addEventListener('touchstart',()=>rocket.dy=jumpPower);

startBtn.addEventListener('click',startGame);
pauseBtn.addEventListener('click',togglePause);

// fullscreen
let fullscreen=false;
fullscreenBtn.addEventListener('click',()=>{
  if(!fullscreen){
    canvas.requestFullscreen();
    fullscreen=true;
    touchControls.style.display='flex';
  }else{
    document.exitFullscreen();
    fullscreen=false;
    touchControls.style.display='none';
  }
});
</script>
</body>
</html>
