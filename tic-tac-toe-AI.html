<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tic-Tac-Toe KI - ArcadeOwl</title>
<style>
    :root {
        --blue: #0b74de;
        --cell: #fff;
        --bg: #f5f7fb;
    }
    body { margin:0; font-family:system-ui; background:var(--bg); display:flex; flex-direction:column; align-items:center; }
    .topbar { background: var(--blue); color:#fff; height:56px; width:100%; display:flex; align-items:center; justify-content:center; position:relative; margin-bottom:20px; }
    .home-link { position:absolute; left:12px; top:50%; transform:translateY(-50%); color:#fff; font-size:24px; text-decoration:none; font-weight:bold; }
    .brand { font-size:20px; font-weight:800; }
    .status { font-size:24px; margin-bottom:10px; }
    .board { display:grid; grid-template-columns:repeat(3,100px); grid-gap:5px; margin-bottom:20px; }
    .cell { width:100px; height:100px; background:var(--cell); display:flex; align-items:center; justify-content:center; font-size:48px; cursor:pointer; border-radius:12px; transition: transform 0.2s; }
    .cell:hover { transform: scale(1.1); background:#e0e0ff; }
    button { background:var(--blue); color:#fff; border:none; padding:10px 20px; border-radius:8px; cursor:pointer; }
    button:hover { background:#0749a3; }
</style>
</head>
<body>

<header class="topbar">
    <a href="index.html" class="home-link">‚Üê</a>
    <div class="brand">ArcadeOwl</div>
</header>

<div class="status" id="status">Dein Zug (X)</div>
<div class="board" id="board"></div>
<button onclick="resetGame()">Neues Spiel</button>

<script>
let boardArray=['','','','','','','','',''];
let gameActive=true;
let player='X', ai='O';

function createBoard(){
    const boardElement=document.getElementById('board');
    boardElement.innerHTML='';
    for(let i=0;i<9;i++){
        const cell=document.createElement('div');
        cell.className='cell';
        cell.setAttribute('data-index',i);
        cell.addEventListener('click',()=>playerMove(i));
        boardElement.appendChild(cell);
    }
}

function playerMove(index){
    if(!gameActive || boardArray[index]!=='') return;
    boardArray[index]=player;
    updateBoard();
    if(checkWinner(player)){
        document.getElementById('status').textContent='Du hast gewonnen!';
        gameActive=false; return;
    }
    if(boardArray.every(c=>c!=='')){ document.getElementById('status').textContent='Unentschieden!'; gameActive=false; return;}
    setTimeout(aiMove,300);
}

function aiMove(){
    if(!gameActive) return;
    let empty=boardArray.map((v,i)=>v===''?i:null).filter(v=>v!==null);
    let move=empty[Math.floor(Math.random()*empty.length)];
    boardArray[move]=ai;
    updateBoard();
    if(checkWinner(ai)){
        document.getElementById('status').textContent='KI hat gewonnen!';
        gameActive=false; return;
    }
    if(boardArray.every(c=>c!=='')){ document.getElementById('status').textContent='Unentschieden!'; gameActive=false; return;}
    document.getElementById('status').textContent='Dein Zug (X)';
}

function updateBoard(){
    boardArray.forEach((v,i)=>{
        document.querySelector(`[data-index="${i}"]`).textContent=v;
    });
}

function checkWinner(p){
    const winPatterns=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
    return winPatterns.some(pat=>boardArray[pat[0]]===p && boardArray[pat[1]]===p && boardArray[pat[2]]===p);
}

function resetGame(){
    boardArray=['','','','','','','','',''];
    gameActive=true;
    document.getElementById('status').textContent='Dein Zug (X)';
    createBoard();
}

createBoard();
</script>

</body>
</html>
