<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ArcadeOwl - Tic Tac Toe AI</title>
<style>
:root{
  --blue:#0b74de;
  --green:#28a745;
  --red:#ff4d4d;
  --bg:#f5f7fb;
  --card:#fff;
  --accent:#ffd54f;
}
body{
  margin:0;
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial;
  background: var(--bg);
  display:flex;
  flex-direction:column;
  align-items:center;
  min-height:100vh;
  padding:12px;
}
.topbar{
  background:var(--blue);
  color:#fff;
  width:100%;
  max-width:980px;
  height:56px;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  border-radius:10px;
  margin-bottom:18px;
  box-shadow:0 2px 6px rgba(0,0,0,0.2);
}
.home-link{
  position:absolute;
  left:12px;
  top:50%;
  transform:translateY(-50%);
  color:#fff;
  text-decoration:none;
  font-size:20px;
}
.brand{
  font-weight:800;
  font-size:20px;
}
.levels{
  display:flex;
  gap:10px;
  margin-bottom:14px;
  justify-content:center;
}
.levels button{
  padding:8px 14px;
  border:none;
  border-radius:8px;
  font-weight:700;
  cursor:pointer;
  transition:0.2s;
}
.levels button.active{ background: var(--blue); color:#fff;}
.levels button:not(.active){ background:#e9eefc; color: var(--blue);}
.board{
  display:grid;
  grid-template-columns:repeat(3,100px);
  grid-gap:8px;
  justify-content:center;
}
.cell{
  width:100px;
  height:100px;
  background:var(--card);
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:2.6rem;
  cursor:pointer;
  transition:0.15s;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}
.cell:hover{ transform:scale(1.05); background:#eef6ff;}
.cell.X{ color: var(--red);}
.cell.O{ color: var(--green);}
.cell.winner{ background: var(--accent); color:#111; font-weight:800;}
.status{
  margin-top:12px;
  font-size:18px;
  font-weight:700;
  text-align:center;
}
button#newGame{
  margin-top:12px;
  padding:8px 14px;
  border:none;
  border-radius:8px;
  background:var(--blue);
  color:#fff;
  font-weight:700;
  cursor:pointer;
}
</style>
</head>
<body>

<header class="topbar">
  <a class="home-link" href="index.html">←</a>
  <div class="brand">ArcadeOwl — Tic Tac Toe AI</div>
</header>

<div class="levels">
  <button data-level="easy" class="active">Easy</button>
  <button data-level="mid">Mid</button>
  <button data-level="hard">Hard</button>
</div>

<div class="board" id="board"></div>
<div class="status" id="status">Select your level!</div>
<button id="newGame">New Game</button>

<script>
let board = Array(9).fill('');
let human = 'X';
let ai = 'O';
let current = 'X';
let gameActive = false;
let difficulty = 'easy';
const wins=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];

const boardEl = document.getElementById('board');
const statusEl = document.getElementById('status');
const newBtn = document.getElementById('newGame');

function renderBoard(){
  boardEl.innerHTML='';
  board.forEach((v,i)=>{
    const cell = document.createElement('div');
    cell.className='cell'+(v?(' '+v):'');
    cell.dataset.index=i;
    cell.textContent=v;
    cell.addEventListener('click', ()=>onHuman(i));
    boardEl.appendChild(cell);
  });
}

function checkWinnerState(b){
  for(const p of wins){
    const [a,b1,c]=p;
    if(b[a] && b[a]===b[b1] && b[b1]===b[c]) return {winner:b[a],pattern:p};
  }
  return null;
}

function onHuman(i){
  if(!gameActive || current!==human || board[i]!=='') return;
  makeMove(i,human);
}

function makeMove(i,p){
  board[i]=p;
  renderBoard();
  const outcome=checkWinnerState(board);
  if(outcome){
    gameActive=false;
    highlight(outcome.pattern);
    statusEl.textContent=outcome.winner===human?'You win!':'AI wins!';
    return;
  }
  if(board.every(c=>c!=='')){
    gameActive=false;
    statusEl.textContent='Draw!';
    return;
  }
  current=p==='X'?'O':'X';
  if(current===ai){
    statusEl.textContent='AI thinking...';
    setTimeout(aiTurn,300);
  } else statusEl.textContent='Your turn';
}

function highlight(pattern){pattern.forEach(i=>{boardEl.querySelector(`[data-index="${i}"]`).classList.add('winner');});}

function emptyIndices(){return board.map((v,i)=>v===''?i:null).filter(n=>n!==null);}
function aiEasyMove(){const e=emptyIndices();return e[Math.floor(Math.random()*e.length)];}
function aiMidMove(){
  for(const i of emptyIndices()){const copy=board.slice();copy[i]=ai;if(checkWinnerState(copy))return i;}
  for(const i of emptyIndices()){const copy=board.slice();copy[i]=human;if(checkWinnerState(copy))return i;}
  if(board[4]==='') return 4;
  const corners=[0,2,6,8].filter(i=>board[i]==='');
  if(corners.length) return corners[Math.floor(Math.random()*corners.length)];
  return aiEasyMove();
}
function aiHardMove(){
  const best=minimax(board,ai);
  return best.index;
}
function minimax(nb,player){
  const avail=nb.map((v,i)=>v===''?i:null).filter(n=>n!==null);
  const w=checkWinnerState(nb);
  if(w){if(w.winner===ai)return {score:10}; else if(w.winner===human) return {score:-10};}
  else if(avail.length===0) return {score:0};
  const moves=[];
  for(const i of avail){
    const move={index:i};
    nb[i]=player;
    const result=player===ai?minimax(nb,human):minimax(nb,ai);
    move.score=result.score;
    nb[i]='';
    moves.push(move);
  }
  let bestMove;
  if(player===ai){let bestScore=-Infinity;for(const m of moves) if(m.score>bestScore){bestScore=m.score;bestMove=m;}}
  else {let bestScore=Infinity;for(const m of moves) if(m.score<bestScore){bestScore=m.score;bestMove=m;}}
  return bestMove;
}

function aiTurn(){
  if(!gameActive) return;
  let move;
  if(difficulty==='easy') move=aiEasyMove();
  else if(difficulty==='mid') move=aiMidMove();
  else move=aiHardMove();
  makeMove(move,ai);
}

function startNew(){
  board=Array(9).fill('');
  current='X';
  gameActive=true;
  statusEl.textContent='Your turn';
  renderBoard();
  if(ai==='X'){current=ai;statusEl.textContent='AI thinking...'; setTimeout(aiTurn,400);}
}

document.querySelectorAll('.levels button').forEach(b=>{
  b.addEventListener('click',()=>{
    document.querySelectorAll('.levels button').forEach(x=>x.classList.remove('active'));
    b.classList.add('active');
    difficulty=b.dataset.level;
    startNew();
  });
});
newBtn.addEventListener('click', startNew);

startNew();
</script>

</body>
</html>
