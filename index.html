<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ArcadeOwl</title>

<style>
/* ================= ROOT ================= */
:root{
  --blue:#0b74de;
  --bg:#f5f7fb;
  --card:#ffffff;
  --text:#000;
  --muted:#666;
}
body.dark{
  --bg:#0f1115;
  --card:#1b1e24;
  --text:#fff;
  --muted:#aaa;
}
html,body{
  margin:0;
  font-family:system-ui,Segoe UI,Roboto,Arial;
  background:var(--bg);
  color:var(--text);
}

/* ================= TOP BAR ================= */
.topbar{
  background:var(--blue);
  color:#fff;
  height:56px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:900;
  font-size:22px;
}

/* ================= SEARCH ================= */
#searchBtn{
  position:fixed;
  top:10px;
  left:16px;
  width:36px;
  height:36px;
  border-radius:50%;
  border:none;
  cursor:pointer;
  z-index:1000;
}
#searchInput{
  position:fixed;
  top:60px;
  left:16px;
  width:180px;
  padding:6px;
  display:none;
}

/* ================= USER ================= */
#userBox{
  position:fixed;
  top:10px;
  right:16px;
  background:#fff;
  padding:6px 12px;
  border-radius:8px;
  cursor:pointer;
  z-index:1000;
}
#settingsPopup{
  position:fixed;
  top:48px;
  right:16px;
  background:#fff;
  padding:10px;
  border-radius:8px;
  display:none;
  width:180px;
}

/* ================= LIST ================= */
.wrap{max-width:980px;margin:20px auto;padding:12px;}
.games-list{list-style:none;padding:0;}
.games-list li{
  background:var(--card);
  margin:12px 0;
  padding:14px;
  border-radius:12px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.play-btn{
  background:var(--blue);
  color:white;
  padding:6px 12px;
  border-radius:8px;
  text-decoration:none;
}

/* ================= ABOUT ================= */
#about{
  max-width:980px;
  margin:20px auto;
  padding:16px;
  display:none;
  font-size:14px;
  text-align:center;
}
#aboutToggle{
  text-align:center;
  margin:20px;
  cursor:pointer;
  color:var(--blue);
}
</style>
</head>

<body>

<!-- SEARCH -->
<button id="searchBtn">üîç</button>
<input id="searchInput" placeholder="Search game...">

<!-- TOP -->
<header class="topbar">ArcadeOwl</header>

<!-- USER -->
<div id="userBox">Guest</div>

<div id="settingsPopup">
  <button id="loginBtn">Sign in with Google</button>
  <button id="logoutBtn">Logout</button>
  <hr>
  <button id="darkToggle">üåô Dark Mode</button>
</div>

<!-- GAMES -->
<main class="wrap">
<ul class="games-list" id="gameList">

<li data-name="color clicker">
  <span>Color Clicker</span>
  <a class="play-btn" href="color-clicker.html">Play</a>
</li>

<li data-name="emoji memory">
  <span>Emoji Memory</span>
  <a class="play-btn" href="emoji-memory.html">Play</a>
</li>

<li data-name="geometry dash">
  <span>Geometry Dash</span>
  <a class="play-btn" href="geometry-dash.html">Play</a>
</li>

<li data-name="minecraft">
  <span>Minecraft</span>
  <a class="play-btn" href="minecraft.html">Play</a>
</li>

</ul>
</main>

<!-- ABOUT -->
<div id="aboutToggle">About</div>
<section id="about">
  <h3>About ArcadeOwl</h3>
  <p>Learning & playing simple HTML / JS games.</p>
  <p>Contact: your@email.com</p>
</section>

<!-- ================= JS ================= -->
<script type="module">
// ===== FIREBASE =====
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged }
from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";

const app = initializeApp({
  apiKey: "AIzaSyA2tHsWgZjPuGXdD90THTbwA_mRLt4D8Q8",
  authDomain: "arcadeowl.firebaseapp.com",
  projectId: "arcadeowl",
});
const auth = getAuth(app);
const provider = new GoogleAuthProvider();

// ===== USER POPUP =====
const userBox = document.getElementById("userBox");
const popup = document.getElementById("settingsPopup");

userBox.onclick = e=>{
  e.stopPropagation();
  popup.style.display = popup.style.display==="block"?"none":"block";
};
document.onclick = ()=> popup.style.display="none";

// ===== AUTH =====
onAuthStateChanged(auth,user=>{
  userBox.textContent = user ? user.displayName : "Guest";
});
loginBtn.onclick = ()=> signInWithPopup(auth,provider);
logoutBtn.onclick = ()=> signOut(auth);

// ===== SEARCH =====
searchBtn.onclick = ()=>{
  searchInput.style.display =
    searchInput.style.display==="block"?"none":"block";
  searchInput.focus();
};
searchInput.oninput = ()=>{
  const q = searchInput.value.toLowerCase();
  document.querySelectorAll("#gameList li").forEach(li=>{
    li.style.display = li.dataset.name.includes(q)?"flex":"none";
  });
};

// ===== ABOUT =====
aboutToggle.onclick = ()=>{
  about.style.display = about.style.display==="block"?"none":"block";
};

// ===== DARK MODE =====
darkToggle.onclick = ()=>{
  document.body.classList.toggle("dark");
};
</script>

</body>
</html>
