<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<title>Carpații României - Quiz</title>
<style>
  body { font-family: sans-serif; text-align: center; background: #f4f4f4; }
  #game-container { position: relative; display: inline-block; margin-top: 20px; border: 3px solid #333; }
  #map { width: 800px; display: block; }
  
  /* Die Klick-Zonen */
  .pixel {
    position: absolute;
    background: rgba(255, 255, 255, 0.0); /* Fast unsichtbar */
    cursor: pointer;
    border: 0.1px solid rgba(0,0,0,0.02); /* Nur zur Hilfe beim Bauen sichtbar */
  }
  .zone {
  position: absolute;
  cursor: pointer;
}

/* DEBUG-MODUS */
.debug {
  background: rgba(0, 150, 255, 0.35);
  outline: 2px dashed blue;
}
  .pixel:hover { background: rgba(255, 255, 255, 0.3); }

  #ui { margin-top: 20px; }
  .target-box { font-size: 24px; font-weight: bold; padding: 10px; background: white; display: inline-block; border-radius: 8px; }
  #message { height: 30px; margin-top: 10px; font-weight: bold; }
  .correct-flash { background: rgba(0, 255, 0, 0.5) !important; }
</style>
</head>
<body>

<div id="ui">
  <div class="target-box">Indică: <span id="current-target">...</span></div>
  <div id="message"></div>
</div>

<div id="game-container" id="map-area">
  <img id="map" src="images/Romania_location_map_Topographic.png">
  </div>

<script>
  const groups = [
    { id: 'orientali', name: 'Carpații Orientali', 
      coords: [400,80,180,300] }, // [left, top, width, height]
    { id: 'meridionali', name: 'Carpații Meridionali', 
      coords: [[250,420,230,70], [300,480,150,30]] },
    { id: 'occidentali', name: 'Carpații Occidentali', 
      coords: [[180,220,130,150], [200,370,50,60]] }
  ];

  let currentStep = 0;

zone.className = "zone debug";   // sichtbar
// zone.className = "zone";      // unsichtbar
  
  function initGame() {
    const container = document.getElementById('game-container');
    
    groups.forEach(group => {
      group.coords.forEach(rect => {
        const div = document.createElement('div');
        div.className = 'pixel';
        div.style.left = rect[0] + 'px';
        div.style.top = rect[1] + 'px';
        div.style.width = rect[2] + 'px';
        div.style.height = rect[3] + 'px';
        
        div.onclick = (e) => handleHit(group.id, e.target);
        container.appendChild(div);
      });
    });
    
    updateTarget();
  }

  function updateTarget() {
    if(currentStep < groups.length) {
      document.getElementById('current-target').textContent = groups[currentStep].name;
    } else {
      document.getElementById('current-target').textContent = "Felicitări! Joc terminat.";
      document.getElementById('message').textContent = "Ai găsit toate grupele!";
    }
  }

  function handleHit(groupId, element) {
    const msg = document.getElementById('message');
    const targetId = groups[currentStep].id;

    if (groupId === targetId) {
      msg.style.color = "green";
      msg.textContent = "✔️ Corect!";
      
      // Markiere alle Teile dieser Gruppe als gefunden
      document.querySelectorAll('.pixel').forEach(p => {
         // (Simpler Check für diese Demo)
      });

      currentStep++;
      setTimeout(() => {
        msg.textContent = "";
        updateTarget();
      }, 1000);
    } else {
      msg.style.color = "red";
      msg.textContent = "❌ Greșit! Mai încearcă.";
    }
  }

  window.onload = initGame;
</script>

</body>
</html>
