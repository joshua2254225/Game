<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ArcadeOwl â€“ ÃnvÄƒÈ›are</title>

<style>


  .popup {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000;
}

.popup-card {
  background: white;
  padding: 30px;
  border-radius: 20px;
  width: 90%;
  max-width: 320px;
  text-align: center;
}

.popup-card button {
  width: 100%;
  margin-top: 12px;
  padding: 14px;
  font-size: 16px;
  border-radius: 12px;
  border: none;
  background: #4a6cf7;
  color: white;
  cursor: pointer;
}

.popup-card button:disabled {
  opacity: 0.5;
}
* {
  box-sizing: border-box;
  font-family: 'Segoe UI', sans-serif;
}

body {
  margin: 0;
  background: linear-gradient(135deg, #74ebd5, #acb6e5);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  padding-top: 70px;
}

/* TOPBAR */
.topbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 56px;
  background: #4a6cf7;
  display: flex;
  align-items: center;
  padding: 0 20px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

.topbar a {
  color: white;
  text-decoration: none;
  font-size: 20px;
  font-weight: bold;
}

/* MAIN CARD */
.card {
  background: white;
  width: 92%;
  max-width: 460px;
  padding: 30px 25px;
  border-radius: 22px;
  text-align: center;
  box-shadow: 0 20px 40px rgba(0,0,0,0.2);
}

h1 {
  margin-top: 0;
  color: #4a6cf7;
}

/* FLIP CARDS */
.cards {
  display: flex;
  gap: 15px;
  margin: 25px 0;
}

.flip-card {
  flex: 1;
  height: 120px;
  perspective: 1000px;
  cursor: pointer;
}

.flip-inner {
  width: 100%;
  height: 100%;
  position: relative;
  transition: transform 0.6s;
  transform-style: preserve-3d;
}

.flip-card.flipped .flip-inner {
  transform: rotateY(180deg);
}

.flip-face {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 22px;
  font-weight: bold;
  backface-visibility: hidden;
}

.front {
  background: #f1f2f6;
  color: #636e72;
}

.back {
  background: #4a6cf7;
  color: white;
  transform: rotateY(180deg);
}

/* BUTTON */
button {
  width: 100%;
  padding: 14px;
  font-size: 16px;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  background: #4a6cf7;
  color: white;
  margin-top: 10px;
}

button:disabled {
  opacity: 0.5;
  cursor: default;
}

.progress {
  margin-top: 12px;
  font-size: 14px;
  color: #636e72;
}

  .hidden {
  display: none;
}

.option {
  padding: 12px;
  margin: 10px 0;
  border-radius: 10px;
  background: #f1f2f6;
  cursor: pointer;
  font-weight: bold;
}

.option.correct {
  background: #2ecc71;
  color: white;
}

.option.wrong {
  background: #e74c3c;
  color: white;
  }

.home {
  text-align: center;
}

.home button {
  width: 100%;
  max-width: 300px;
  margin: 12px auto;
  padding: 16px;
  font-size: 18px;
  border-radius: 14px;
  border: none;
  background: #4a6cf7;
  color: white;
  cursor: pointer;
  }

.overlay {
  position: fixed;
  inset: 0;
  background: linear-gradient(135deg, #74ebd5, #acb6e5);
  z-index: 3000;
  display: flex;
  justify-content: center;
  align-items: center;
}

.overlay-header {
  position: absolute;
  top: 15px;
  right: 15px;
}

.overlay-header button {
  font-size: 22px;
  background: none;
  border: none;
  cursor: pointer;
  }
  
</style>
</head>

<body>

<div id="homeScreen" class="home">
  <h1>ğŸ¾ Les Animaux</h1>

  <button onclick="openMode('learn')">ğŸ“˜ ÃnvÄƒÈ›are</button>
  <button onclick="openMode('exercise')">âœï¸ Exersare</button>
  <button onclick="openMode('test')">ğŸ“ Test</button>
</div>

<div id="modeOverlay" class="overlay hidden">
  <div class="overlay-header">
    <button onclick="closeMode()">âœ–</button>
  </div>

  <!-- LERNEN -->
  <div id="learnView" class="card hidden">
    <!-- dein Lern-Code -->
  </div>

  <!-- EXERSARE -->
  <div id="exerciseView" class="card hidden">
    <!-- dein Ãœben-Code -->
  </div>

  <!-- TEST -->
  <div id="testView" class="card hidden">
    <h1>ğŸ“ Test</h1>
    <p>Ãn curÃ¢ndâ€¦</p>
  </div>
</div>

    <div id="exerciseView" class="card hidden">
  <h1>âœï¸ Exersare</h1>

  <div id="exerciseQuestion" style="font-size:22px; margin:20px 0;"></div>

  <div id="options"></div>

  <div id="exerciseResult" style="margin-top:15px;font-weight:bold;"></div>

  <button id="nextExerciseBtn" disabled>â¡ï¸ UrmÄƒtoarea</button>
    </div>
    <button onclick="openLearn()">ğŸ“˜ ÃnvÄƒÈ›are</button>
    <button onclick="openExercise()">âœï¸ Exersare</button>
    <button disabled>ğŸ“ Test (Ã®n curÃ¢nd)</button>
  </div>
</div>
  
<div class="topbar">
  <a href="https://joshua2254225.github.io/Game/index.html">ğŸ¦‰ ArcadeOwl</a>
</div>

<div class="card">
  <h1>ğŸ“˜ ÃnvÄƒÈ›are</h1>

  <div class="cards">
    <div class="flip-card" id="cardRo">
      <div class="flip-inner">
        <div class="flip-face front">RomÃ¢nÄƒ</div>
        <div class="flip-face back" id="roText"></div>
      </div>
    </div>

    <div class="flip-card" id="cardFr">
      <div class="flip-inner">
        <div class="flip-face front">FrancezÄƒ</div>
        <div class="flip-face back" id="frText"></div>
      </div>
    </div>
  </div>

  <button id="nextBtn" disabled>â¡ï¸ UrmÄƒtorul</button>

  <div class="progress" id="progress"></div>
</div>

<script>
const animals = [
  { ro: "cÃ¢ine", fr: "chien" },
  { ro: "pisicÄƒ", fr: "chat" },
  { ro: "cal", fr: "cheval" },
  { ro: "vacÄƒ", fr: "vache" },
  { ro: "oaie", fr: "mouton" },
  { ro: "iepure", fr: "lapin" },
  { ro: "urs", fr: "ours" }
];

function shuffle(arr) {
  return arr.sort(() => Math.random() - 0.5);
}

let pool = shuffle([...animals]);
let index = 0;
let flippedCount = 0;

const cardRo = document.getElementById("cardRo");
const cardFr = document.getElementById("cardFr");
const roText = document.getElementById("roText");
const frText = document.getElementById("frText");
const nextBtn = document.getElementById("nextBtn");
const progress = document.getElementById("progress");

function loadCard() {
  const item = pool[index];
  roText.textContent = item.ro;
  frText.textContent = item.fr;

  cardRo.classList.remove("flipped");
  cardFr.classList.remove("flipped");

  flippedCount = 0;
  nextBtn.disabled = true;

  progress.textContent = `${index + 1} / ${pool.length}`;
}

function flip(card) {
  if (card.classList.contains("flipped")) return;
  card.classList.add("flipped");
  flippedCount++;
  if (flippedCount === 2) {
    nextBtn.disabled = false;
  }
}

cardRo.onclick = () => flip(cardRo);
cardFr.onclick = () => flip(cardFr);

nextBtn.onclick = () => {
  index++;
  if (index >= pool.length) {
    alert("ğŸ‰ Ai terminat modul de Ã®nvÄƒÈ›are!");
    location.reload();
    return;
  }
  loadCard();
};

loadCard();

  const startPopup = document.getElementById("startPopup");
const exerciseView = document.getElementById("exerciseView");

// Gemeinsame Daten (bleiben fÃ¼r ALLE Modi)
const animals = [
  { ro: "cÃ¢ine", fr: "chien" },
  { ro: "pisicÄƒ", fr: "chat" },
  { ro: "cal", fr: "cheval" },
  { ro: "vacÄƒ", fr: "vache" },
  { ro: "oaie", fr: "mouton" },
  { ro: "iepure", fr: "lapin" }
];

function shuffle(arr) {
  return arr.sort(() => Math.random() - 0.5);
}

/* -------- NAVIGARE -------- */

function hideAllViews() {
  document.querySelectorAll(".card").forEach(v => v.classList.add("hidden"));
}

const home = document.getElementById("homeScreen");
const overlay = document.getElementById("modeOverlay");

function hideAllViews() {
  document.querySelectorAll(".card").forEach(v => v.classList.add("hidden"));
}

function openMode(mode) {
  home.style.display = "none";
  overlay.classList.remove("hidden");
  hideAllViews();

  if (mode === "learn") {
    document.getElementById("learnView").classList.remove("hidden");
    loadCard(); // Lernstart
  }

  if (mode === "exercise") {
    document.getElementById("exerciseView").classList.remove("hidden");
    startExercise();
  }

  if (mode === "test") {
    document.getElementById("testView").classList.remove("hidden");
  }
}

function closeMode() {
  overlay.classList.add("hidden");
  home.style.display = "block";
  }

/* -------- EXERSARE -------- */

let exercisePool = [];
let exerciseIndex = 0;
let locked = false;

const qEl = document.getElementById("exerciseQuestion");
const optionsEl = document.getElementById("options");
const resultEl = document.getElementById("exerciseResult");
const nextBtn = document.getElementById("nextExerciseBtn");

function startExercise() {
  exercisePool = shuffle([...animals]);
  exerciseIndex = 0;
  showExercise();
}

function showExercise() {
  locked = false;
  resultEl.textContent = "";
  nextBtn.disabled = true;
  optionsEl.innerHTML = "";

  const item = exercisePool[exerciseIndex];

  qEl.textContent = `Care este traducerea Ã®n francezÄƒ pentru â€${item.ro}â€?`;

  let answers = shuffle([
    item.fr,
    ...shuffle(animals.filter(a => a !== item))
      .slice(0, 3)
      .map(a => a.fr)
  ]);

  answers.forEach(ans => {
    const div = document.createElement("div");
    div.className = "option";
    div.textContent = ans;
    div.onclick = () => checkAnswer(div, ans === item.fr);
    optionsEl.appendChild(div);
  });
}

function checkAnswer(el, correct) {
  if (locked) return;
  locked = true;

  if (correct) {
    el.classList.add("correct");
    resultEl.textContent = "âœ”ï¸ Corect!";
  } else {
    el.classList.add("wrong");
    resultEl.textContent = "âŒ GreÈ™it!";
    document.querySelectorAll(".option").forEach(o => {
      if (o.textContent === exercisePool[exerciseIndex].fr) {
        o.classList.add("correct");
      }
    });
  }

  nextBtn.disabled = false;
}

nextBtn.onclick = () => {
  exerciseIndex++;
  if (exerciseIndex >= exercisePool.length) {
    alert("ğŸ‰ Ai terminat Exersarea!");
    location.reload();
    return;
  }
  showExercise();
};
</script>

</body>
</html>
